<script>
    import { browser } from '$app/environment'
    import { siteConfig } from '$lib/js/config'

    let darkMode = siteConfig.defaultTheme === 'dark'

    let bgColor = darkMode ? '#232831' : '#ffffff'

    if (browser) {
        if ('theme' in localStorage) darkMode = localStorage.theme === 'dark'
        else {
            if (siteConfig.defaultTheme === 'system')
                window.matchMedia('(prefers-color-scheme: dark)').matches
                    ? (darkMode = true)
                    : (darkMode = false)
        }
        bgColor = darkMode ? '#232831' : '#ffffff'
    }
</script>

<svelte:head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="Accept-CH" content="Width,DPR" />
    <meta name="theme-color" content={bgColor} />
    <!-- <meta name="background-color" content={bgColor} /> -->
    <link rel="icon" href="/icons/favicon.ico" />
    <link rel="apple-touch-icon" href="/icons/favicon.png" />

    <link rel="manifest" href="/manifest.webmanifest" />
</svelte:head>

<svg xmlns="http://www.w3.org/2000/svg" style="display: none">
    <symbol id="home" viewBox="0 0 28 28"
        ><path
            d="M 27.0375,12.25 24.5,9.71425 V 3.5 C 24.5,2.5375 23.7125,1.75 22.75,1.75 H 21 c -0.9625,0 -1.75,0.7875 -1.75,1.75 v 0.96775 l -3.5,-3.4965 C 15.27225,0.51975 14.83475,0 14,0 13.16525,0 12.72775,0.51975 12.25,0.97125 L 0.9625,12.25 C 0.4165,12.81875 0,13.2335 0,14 c 0,0.98525 0.756,1.75 1.75,1.75 H 3.5 v 10.5 C 3.5,27.2125 4.2875,28 5.25,28 h 5.25 v -8.75 c 0,-0.9625 0.7875,-1.75 1.75,-1.75 h 3.5 c 0.9625,0 1.75,0.7875 1.75,1.75 V 28 h 5.25 c 0.9625,0 1.75,-0.7875 1.75,-1.75 v -10.5 h 1.75 C 27.244,15.75 28,14.98525 28,14 28,13.2335 27.5835,12.81875 27.0375,12.25 Z"
        /></symbol
    >

    <symbol id="email" viewBox="0 0 512 450"
        ><path
            class="st0"
            d="M510.678,112.275c-2.308-11.626-7.463-22.265-14.662-31.054c-1.518-1.915-3.104-3.63-4.823-5.345 c-12.755-12.818-30.657-20.814-50.214-20.814H71.021c-19.557,0-37.395,7.996-50.21,20.814c-1.715,1.715-3.301,3.43-4.823,5.345 C8.785,90.009,3.63,100.649,1.386,112.275C0.464,116.762,0,121.399,0,126.087V385.92c0,9.968,2.114,19.55,5.884,28.203 c3.497,8.26,8.653,15.734,14.926,22.001c1.59,1.586,3.169,3.044,4.892,4.494c12.286,10.175,28.145,16.32,45.319,16.32h369.958 c17.18,0,33.108-6.145,45.323-16.384c1.718-1.386,3.305-2.844,4.891-4.43c6.27-6.267,11.425-13.741,14.994-22.001v-0.064 c3.769-8.653,5.812-18.171,5.812-28.138V126.087C512,121.399,511.543,116.762,510.678,112.275z M46.509,101.571 c6.345-6.338,14.866-10.175,24.512-10.175h369.958c9.646,0,18.242,3.837,24.512,10.175c1.122,1.129,2.179,2.387,3.112,3.637 L274.696,274.203c-5.348,4.687-11.954,7.002-18.696,7.002c-6.674,0-13.276-2.315-18.695-7.002L43.472,105.136 C44.33,103.886,45.387,102.7,46.509,101.571z M36.334,385.92V142.735L176.658,265.15L36.405,387.435 C36.334,386.971,36.334,386.449,36.334,385.92z M440.979,420.597H71.021c-6.281,0-12.158-1.651-17.174-4.552l147.978-128.959 l13.815,12.018c11.561,10.046,26.028,15.134,40.36,15.134c14.406,0,28.872-5.088,40.432-15.134l13.808-12.018l147.92,128.959 C453.137,418.946,447.26,420.597,440.979,420.597z M475.666,385.92c0,0.529,0,1.051-0.068,1.515L335.346,265.221L475.666,142.8 V385.92z"
        ></path></symbol
    >

    <symbol id="rss" viewBox="0 0 28 28"
        ><path
            d="m 7.636364,24.181818 a 3.818182,3.818182 0 1 1 -7.636364,0 3.818182,3.818182 0 0 1 7.636364,0 M 0,2.5454545 A 2.5454545,2.5454545 0 0 1 2.5454545,0 C 16.604,0 28,11.396 28,25.454545 a 2.5454545,2.5454545 0 1 1 -5.090909,0 A 20.363636,20.363636 0 0 0 2.5454545,5.090909 2.5454545,2.5454545 0 0 1 0,2.5454545 M 0,12.727273 a 2.5454545,2.5454545 0 0 1 2.5454545,-2.545455 15.272727,15.272727 0 0 1 15.2727275,15.272727 2.5454545,2.5454545 0 1 1 -5.090909,0 A 10.181818,10.181818 0 0 0 2.5454545,15.272727 2.5454545,2.5454545 0 0 1 0,12.727273"
        /></symbol
    >

    <symbol id="github" viewBox="0 0 28 28"
        ><path
            fill="none"
            stroke="currentcolor"
            stroke-width="2.5"
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M 10.674416,23.009134 C 4.6279063,24.823086 4.6279063,19.985877 2.2093,19.381227 m 16.930233,7.255813 v -4.68 a 4.0753488,4.0753488 0 0 0 -1.136746,-3.156278 c 3.79721,-0.423257 7.787909,-1.862326 7.787909,-8.465117 A 6.5786047,6.5786047 0 0 0 23.976742,5.8007616 6.1311627,6.1311627 0 0 0 23.867904,1.2416917 c 0,0 -1.426967,-0.42325558 -4.728371,1.7897678 a 16.180466,16.180466 0 0 0 -8.465117,0 C 7.3730232,0.81843612 5.9460443,1.2416917 5.9460443,1.2416917 A 6.1311627,6.1311627 0 0 0 5.8370919,5.8007616 6.5786047,6.5786047 0 0 0 4.0231278,10.371925 c 0,6.554418 3.9906962,7.993487 7.7879062,8.465115 a 4.0753488,4.0753488 0 0 0 -1.136757,3.12 v 4.68"
        ></path></symbol
    >

    <symbol id="unsplash" viewBox="0 0 28 28"
        ><path
            d="M 8.75,7.875 V 0 h 10.5 v 7.875 z m 10.5,4.375 H 28 V 28 H 0 V 12.25 h 8.75 v 7.875 h 10.5 z"
        /></symbol
    >

    <symbol id="themeToggle" viewBox="0 0 28 28">
        <path
            d="m 14,19.625 c 3.106545,0 5.625,-2.518462 5.625,-5.625 0,-3.106603 -2.518455,-5.625 -5.625,-5.625 z"
        />
        <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M 14.000001,0 C 6.26801,0 0,6.26801 0,13.999999 0,21.73192 6.26801,28 14.000001,28 21.73192,28 28,21.73192 28,13.999999 28,6.26801 21.73192,0 14.000001,0 Z m 0,2.8 V 8.4 C 10.907205,8.4 8.4,10.907204 8.4,13.999999 8.4,17.09274 10.907205,19.6 14.000001,19.6 v 5.6 C 20.18562,25.2 25.2,20.18562 25.2,13.999999 25.2,7.8144079 20.18562,2.8 14.000001,2.8 Z"
        />
    </symbol>
</svg>
